---
title: MicroServices
date: 2019-06-20 22:33:02
tags:
---
#### 从面试题开始
什么是微服务？
微服务之间是如何独立通讯的？
springcloud 和 dubbo 有哪些区别？
springboot 和 springcloud，请谈谈对他们的理解
什么是服务熔断？什么是服务降级？
微服务的优缺点分别是什么？说下你在项目开发中碰到的坑
你所知道的微服务技术栈有哪些？请举例一二
eureka 和 zookeeper 都可以提供服务注册与发现功能，请说说两个的区别
<!-- more -->

#### 微服务是什么？
就目前而言，对于微服务业界并没有一个统一的、标准的定义。
但通常而言，微服务架构是一种架构模式或者说是一种架构风格，它是将单一应用程序分成一组小的服务，每个服务运行在其独立的自己的进程中，
服务之间互相协调、互相配合，为用户提供最终价值。服务之间采用轻量级的通信机制互相沟通（通常是基于HTTP的RESTful API）。每个服务
都围绕着具体业务进行构建，并且能够被独立地部署到生产环境、类生产环境等。另外，应尽量避免统一的、集中式的服务管理机制，对具体的一个
服务而言，应根据业务上下文，选择合适的语言、工具对其进行构建，可以有一个非常轻量级的集中式管理来协调这些服务，可以使用不同的语言来
编写服务，也可以使用不同的数据存储。

单机版：All In One，在工作空间中只有一个工程；
分布式：专业的事情交给专业的人做，尽量降低耦合度；

Dubbo 通信机制是RPC，Spring Cloud 的通信机制是基于HTTP 的RESTful API。

从技术维度理解，微服务化的核心就是将传统的一站式应用，根据业务拆分成一个一个的服务，彻底的去耦合，每一个微服务提供单个业务功能的服务，
一个服务做一件事，从技术角度看就是一个小而独立的处理过程，类似进程概念，能够自行独立启动或销毁，甚至拥有自己独立的数据库。

练武不练功，到老一场空！

#### 微服务与微服务架构
微服务：强调的是服务的大小，它关注的是某一个点，是具体解决某一个问题/提供落地对应服务的一个服务应用（比如用sprigboot开发的一个小模块），
狭义的看，可以看作是是开发工具里面一个个微服务工程或者module。

微服务架构：微服务架构是一种架构模式。


#### 微服务的优缺点
优点：
每个服务足够内聚，足够小，代码容易理解，这样能聚焦一个指定的业务功能或者业务需求。
开发简单、开发效率提高，一个服务可能就是转一的只干一件事。
微服务能够被小团队单独开发，这个小团队是2-5人的开发人员组成。
微服务是松耦合的，是有功能意义的服务，无论是在开发阶段或部署阶段都是独立的。
微服务能使用不同的语言开发。
易于和第三方集成，微服务允许容易且灵活的方式集成自动部署，通过持续集成工具。
微服务易于被一个开发人员理解，修改和维护，这样小团队能够关注自己的工作成果，无需通过合作才能体现价值。
微服务允许你利用融合最新技术。
微服务只是业务逻辑代码，不会和html、css或者其他界面组件混合。
每个微服务都有自己的存储能力，可以有自己的数据库，也可以有统一数据库。

缺点：
开发人员要处理分布式系统的复杂性。
多服务运维难度，随着服务的增加，运维的压力也在增加。
系统部署依赖
服务间通信成本
数据一致性
系统集成测试
性能监控......

#### 微服务技术栈有哪些
服务开发 springboot spring springmvc
服务配置与管理 Netflix公司的Archaius、阿里巴巴的Diamond等
服务注册与发现 Eureka、Consul、Zookeeper
服务调用 Rest、RPC、gRPC
服务熔断 Hystrix、Envoy
负载均衡 Ribbon、Nginx
服务接口调用（客户端调用服务的简化工具）Feign
消息队列 Kafka RabbitMQ ActiveMQ
服务配置中心管理 SpringCloudConfig Chef
服务路由 Zuul
服务监控 Zabbix Nagox Metrios Spectator
全链路追踪 Zipkin Brave Dapper
服务部署 Docker OpenStack Kubernetes
数据流操作开发包 SpringCloud Stream（封装与Redis，Rabbit，Kafka等发送接收消息）
事件消息总线 SprngCloud Bus

#### 为什么选择SpringCloud作为微服务架构
选型依据
- 整体解决方案和框架成熟度
- 社区热度
- 可维护性
- 学习曲线

当前各大IT公司用的微服务架构有哪些？
阿里Dubbo/HSF（好舒服）
京东JSF
新浪微博Motan
当当网DubboX

各微服务框架对比

























